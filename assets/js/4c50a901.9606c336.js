"use strict";(self.webpackChunkarrower_org=self.webpackChunkarrower_org||[]).push([[6194],{7465:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>l,contentTitle:()=>p,default:()=>g,frontMatter:()=>d,metadata:()=>c,toc:()=>m});var r=n(5893),o=n(1151),i=n(4316);const s='package main\n\nimport (\n\t"context"\n\t"os"\n\n\t"github.com/brianvoe/gofakeit/v6"\n\t"github.com/google/uuid"\n\n\t"github.com/go-arrower/arrower/repository"\n)\n\ntype (\n\tEntityID string\n\n\tEntity struct {\n\t\tID   EntityID\n\t\tName string\n\t}\n)\n\nfunc main() {\n\tdir := os.TempDir()\n\n\t// highlight-start\n\tstore := repository.NewJSONStore(dir)\n\trepo := repository.NewMemoryRepository[Entity, EntityID](\n\t\trepository.WithStore(store),\n\t\trepository.WithStoreFilename("Entity.json"), // optional, defaults to struct name + `.json`\n\t)\n\t// highlight-end\n\n\terr := repo.Save(context.Background(), Entity{\n\t\tID:   EntityID(uuid.New().String()),\n\t\tName: gofakeit.Name(),\n\t})\n\tif err != nil {\n\t\tpanic(err)\n\t}\n}\n',a='package main\n\nimport (\n\t"context"\n\t"fmt"\n\t"os"\n\n\t"github.com/go-arrower/arrower/repository"\n)\n\ntype (\n\tEntityID string\n\n\tEntity struct {\n\t\tID   EntityID\n\t\tName string\n\t}\n)\n\nfunc main() {\n\tdir := os.TempDir()\n\n\t// highlight-start\n\tstore := repository.NewJSONStore(dir)\n\trepo := repository.NewMemoryRepository[Entity, EntityID](repository.WithStore(store))\n\t// highlight-end\n\n\tentities, err := repo.All(context.Background())\n\tif err != nil {\n\t\tpanic(err)\n\t}\n\n\tfmt.Println(entities)\n}\n',d={},p="Persist an InMemory Repository",c={id:"guides/persist-inmemory-repository/index",title:"Persist an InMemory Repository",description:"This is only recommended while prototyping and to run local demos",source:"@site/docs/guides/persist-inmemory-repository/index.md",sourceDirName:"guides/persist-inmemory-repository",slug:"/guides/persist-inmemory-repository/",permalink:"/docs/guides/persist-inmemory-repository/",draft:!1,unlisted:!1,editUrl:"https://github.com/go-arrower/arrower.org/tree/master/docs/guides/persist-inmemory-repository/index.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Overwrite a Repository Method",permalink:"/docs/guides/overwrite-repository-method/"},next:{title:"Run Jobs",permalink:"/docs/guides/run-jobs/"}},l={},m=[{value:"Persist Repository",id:"persist-repository",level:2},{value:"Restore Repository Data",id:"restore-repository-data",level:2}];function y(t){const e={admonition:"admonition",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",strong:"strong",...(0,o.a)(),...t.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.h1,{id:"persist-an-inmemory-repository",children:"Persist an InMemory Repository"}),"\n",(0,r.jsx)(e.admonition,{type:"warning",children:(0,r.jsx)(e.p,{children:"This is only recommended while prototyping and to run local demos\nNot for production use."})}),"\n",(0,r.jsx)(e.h2,{id:"persist-repository",children:"Persist Repository"}),"\n",(0,r.jsx)(i.Z,{language:"go",title:"main.go",children:s}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Check filesystem"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-shell",children:"cat /tmp/Entity.json\n"})}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Content"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",children:'{\n        "5eda35ed-544e-4d94-8981-97ceb866d4b6": {\n                "ID": "5eda35ed-544e-4d94-8981-97ceb866d4b6",\n                "Name": "Rosie Dickens"\n        }\n}                                                                                               \n'})}),"\n",(0,r.jsx)(e.h2,{id:"restore-repository-data",children:"Restore Repository Data"}),"\n",(0,r.jsx)(i.Z,{language:"go",title:"main.go",children:a}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Output"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"[{5eda35ed-544e-4d94-8981-97ceb866d4b6 Rosie Dickens}]                                                                                             \n"})})]})}function g(t={}){const{wrapper:e}={...(0,o.a)(),...t.components};return e?(0,r.jsx)(e,{...t,children:(0,r.jsx)(y,{...t})}):y(t)}}}]);